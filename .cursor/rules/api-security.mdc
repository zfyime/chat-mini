# API 安全配置

## 认证机制
- 密码保护: 通过 `SITE_PASSWORD` 环境变量设置访问密码
- API 签名: 使用 `PUBLIC_SECRET_KEY` 进行 API 调用签名验证
- 认证工具: [src/utils/auth.ts](mdc:src/utils/auth.ts) 包含认证相关函数

## API 路由
- 认证 API: [src/pages/api/auth.ts](mdc:src/pages/api/auth.ts) - 处理用户认证
- 生成 API: [src/pages/api/generate.ts](mdc:src/pages/api/generate.ts) - 处理 AI 对话生成

## 安全配置
- 使用 SHA256 哈希进行密码验证
- API 调用需要签名验证
- 支持超时机制 (5分钟认证超时)
- 环境变量配置参考 [README.md](mdc:README.md)

## 环境变量安全
- `OPENAI_API_KEY` - OpenAI API 密钥
- `SITE_PASSWORD` - 网站访问密码 (多个密码用逗号分隔)
- `PUBLIC_SECRET_KEY` - API 签名密钥
- `HTTPS_PROXY` - 代理配置
- `OPENAI_API_BASE_URL` - API 基础 URL

## 开发注意事项
- 不要在代码中硬编码敏感信息
- 使用环境变量管理配置
- 确保 API 调用的安全性
- 实现适当的错误处理

